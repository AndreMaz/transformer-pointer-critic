{
    "description": "Hyper params for Multiple Knapsack problem",
    
    "trainer_config": {
        "description": "Trainer function configs.",
        "n_iterations": 1000,
        "n_steps_to_update": 20
    },

    "tester_config": {
        "description": "Testing function configs.",
        "bin_sample_size": 15,
        "resource_sample_size": 40,
        "num_episodes": 20,
        "num_iterations_before_node_reset": 20,
        
        "heuristic": {
            "type": "greedy",
            "greedy": {
                "request_sorting_order": "ASC",
                "node_sorting_order": "DESC",
                "denormalize": true
            }
        },

        "export_stats": {
            "location": "./results/resource/"
        }
    },

    "env_config": {
        "description": "Environment configs.",

        "load_from_file": false,
        "location": "./environment/custom/knapsack/problem.json",
        
        "gather_stats": false,
        "unique_elements_in_batch": false,
        "use_advanced_masking": false,

        "batch_size": 64,
        "num_features": 5,
        "num_resources": 20,
        "num_bins": 5,
        "EOS_CODE": 0,

        "resource_sample_size": 20,
        "bin_sample_size": 5,

        "resource_normalization_factor": 10000,
        "task_normalization_factor": 100,
        "num_iterations_before_node_reset": 30,
        
        "num_user_levels": 1,
        "num_task_types": 50,

        "reward": {
            "type": "greedy",
            "greedy": {
                "reward_per_level": [ 1, 5 ],
                "misplace_penalty_factor": 2,
                "correct_place_factor": 10,
                "premium_rejected": -20,
                "free_rejected": 0
            },
            "fair": {
                "reward_per_level": [ 1, 5 ],
                "misplace_penalty_factor": 2,
                "correct_place_factor": 10,
                "premium_rejected": -20,
                "free_rejected": 0
            }
        },
        
        "penalty": {
            "type": "greedy",
            "greedy": {
                "CPU_misplace_penalty": 10,
                "RAM_misplace_penalty": 10,
                "MEM_misplace_penalty": 10
            }
        },
        
        "min_resource_CPU": 10,
        "max_resource_CPU": 40,

        "min_resource_RAM": 10,
        "max_resource_RAM": 40,

        "min_resource_MEM": 10,
        "max_resource_MEM": 40,
        
        "min_bin_CPU": 1000,
        "max_bin_CPU": 2000,
        "min_bin_RAM": 1000,
        "max_bin_RAM": 2000,
        "min_bin_MEM": 1000,
        "max_bin_MEM": 2000,
        
        "min_bin_range_type": 25,
        "max_bin_range_type": 35
    },

    "tpc": {
        "description": "Double Transformer Pointer Critic Agent configs.",
        "agent_config": {

            "gamma": 0.999,
            "entropy_coefficient": 0.00001,
            "stochastic_action_selection": true,
            "use_mha_mask": true,

            "actor": {
                "num_layers": 1,
                "dim_model": 128,
                "num_heads": 8,
                "inner_layer_dim": 128,
                "positional_encoding": false,
                "SOS_CODE": -1,
                "encoder_embedding_time_distributed": true,
                "attention_dense_units": 128,
                "dropout_rate": 0.01,

                "learning_rate": 0.0001
            },

            "critic": {
                "num_layers": 1,
                "dim_model": 128,
                "num_heads": 8,
                "positional_encoding": false,
                "inner_layer_dim": 128,
                "encoder_embedding_time_distributed": true,
                "last_layer_units": 128,
                "last_layer_activation": "relu",
                "dropout_rate": 0.01,

                "learning_rate": 0.0005
            }
        }
    }
}